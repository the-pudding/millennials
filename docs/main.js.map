{"version":3,"sources":["../../node_modules/lodash.debounce/index.js","utils/is-mobile.js","../../node_modules/jump.js/dist/jump.module.js","graphic.js","footer.js","main.js"],"names":["isMobile","android","navigator","userAgent","match","blackberry","ios","opera","windows","any","easeInOutQuad","t","b","c","d","_typeof","Symbol","iterator","obj","constructor","prototype","jumper","element","start","stop","offset","easing","a11y","distance","duration","timeStart","timeElapsed","next","callback","location","window","scrollY","pageYOffset","top","getBoundingClientRect","loop","timeCurrent","scrollTo","requestAnimationFrame","done","setAttribute","focus","jump","target","options","arguments","length","undefined","document","querySelector","singleton","$content","verbJoin","nounJoin","articlesJoin","$verb","$noun","$articles","$separators","$progressBar","backgroundBarWidthPx","barWidthPx","barUpdater","articleNumber","currentArticle","$nounSearch","$verbSelect","formattedVerbs","fixedSearchHeight","separatorHeight","articleInterval","updateProgressBar","el","elapsed","$foregroundBar","d3","select","parentNode","style","format","updateTooltip","$tooltip","classed","text","articles","url","split","pub_date","headline","html","additionalArticles","generateEmoji","noun","other_verbs","join","x","offsetLeft","y","offsetTop","toolTipHeight","node","offsetHeight","updateArticle","clearInterval","timer","setTimeout","handleMouseEnter","console","log","$sel","$selVerb","handleMouseLeave","selectAll","resize","height","innerHeight","setSentimentScroll","parentDiv","posHighFirstEl","sepPositiveHigh","createElement","className","innerHTML","posLowFirstEl","sepPositiveLow","neutralFirstEl","sepNeutral","negLowFirstEl","sepNegativeLow","negHighFirstEl","sepNegativeHigh","insertBefore","on","emojis","Math","floor","random","handleMouseOver","mouse","handleInputChange","$input","val","value","toLowerCase","includes","nounMatch","nounList","filter","item","handleDropDown","verbEl","verbValue","scrollTarget","addArticles","data","enter","append","attr","verb","nouns","open","verbDropDown","verbDropDownChoices","Choices","choices","map","label","cleanData","verbsToKeep","verbsToKeepList","allVerbs","filteredVerbs","nounLevelVerb","forEach","result","sentiment","sentiment_5","sort","a","parseFloat","init","Promise","all","csv","json","then","cleanedData","fallbackData","image","hed","storyData","loadJS","src","cb","ref","getElementsByTagName","script","async","onload","loadStories","request","XMLHttpRequest","v","Date","now","status","JSON","parse","responseText","onerror","send","createLink","recircHTML","href","slice","setupSocialJS","s","id","js","fjs","getElementById","$body","previousWidth","width","offsetWidth","graphic","setupStickyHeader","$header","$menu","$toggle","visible","addEventListener","footer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzXA;AAEA,IAAMA,QAAQ,GAAG;AAChBC,EAAAA,OAAO,EAAE;AAAA,WAAMC,SAAS,CAACC,SAAV,CAAoBC,KAApB,CAA0B,UAA1B,CAAN;AAAA,GADO;AAGhBC,EAAAA,UAAU,EAAE;AAAA,WAAMH,SAAS,CAACC,SAAV,CAAoBC,KAApB,CAA0B,aAA1B,CAAN;AAAA,GAHI;AAKhBE,EAAAA,GAAG,EAAE;AAAA,WAAMJ,SAAS,CAACC,SAAV,CAAoBC,KAApB,CAA0B,mBAA1B,CAAN;AAAA,GALW;AAOhBG,EAAAA,KAAK,EAAE;AAAA,WAAML,SAAS,CAACC,SAAV,CAAoBC,KAApB,CAA0B,aAA1B,CAAN;AAAA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","file":"main.js","sourceRoot":"../src/js","sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","// device sniffing for mobile\n\nconst isMobile = {\n\tandroid: () => navigator.userAgent.match(/Android/i),\n\n\tblackberry: () => navigator.userAgent.match(/BlackBerry/i),\n\n\tios: () => navigator.userAgent.match(/iPhone|iPad|iPod/i),\n\n\topera: () => navigator.userAgent.match(/Opera Mini/i),\n\n\twindows: () => navigator.userAgent.match(/IEMobile/i),\n\n\tany: () => (\n\t\tisMobile.android() ||\n\t\tisMobile.blackberry() ||\n\t\tisMobile.ios() ||\n\t\tisMobile.opera() ||\n\t\tisMobile.windows()\n\t),\n}\n\nexport default isMobile\n","// Robert Penner's easeInOutQuad\n\n// find the rest of his easing functions here: http://robertpenner.com/easing/\n// find them exported for ES6 consumption here: https://github.com/jaxgeller/ez.js\n\nvar easeInOutQuad = function easeInOutQuad(t, b, c, d) {\n  t /= d / 2;\n  if (t < 1) return c / 2 * t * t + b;\n  t--;\n  return -c / 2 * (t * (t - 2) - 1) + b;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar jumper = function jumper() {\n  // private variable cache\n  // no variables are created during a jump, preventing memory leaks\n\n  var element = void 0; // element to scroll to                   (node)\n\n  var start = void 0; // where scroll starts                    (px)\n  var stop = void 0; // where scroll stops                     (px)\n\n  var offset = void 0; // adjustment from the stop position      (px)\n  var easing = void 0; // easing function                        (function)\n  var a11y = void 0; // accessibility support flag             (boolean)\n\n  var distance = void 0; // distance of scroll                     (px)\n  var duration = void 0; // scroll duration                        (ms)\n\n  var timeStart = void 0; // time scroll started                    (ms)\n  var timeElapsed = void 0; // time spent scrolling thus far          (ms)\n\n  var next = void 0; // next scroll position                   (px)\n\n  var callback = void 0; // to call when done scrolling            (function)\n\n  // scroll position helper\n\n  function location() {\n    return window.scrollY || window.pageYOffset;\n  }\n\n  // element offset helper\n\n  function top(element) {\n    return element.getBoundingClientRect().top + start;\n  }\n\n  // rAF loop helper\n\n  function loop(timeCurrent) {\n    // store time scroll started, if not started already\n    if (!timeStart) {\n      timeStart = timeCurrent;\n    }\n\n    // determine time spent scrolling so far\n    timeElapsed = timeCurrent - timeStart;\n\n    // calculate next scroll position\n    next = easing(timeElapsed, start, distance, duration);\n\n    // scroll to it\n    window.scrollTo(0, next);\n\n    // check progress\n    timeElapsed < duration ? window.requestAnimationFrame(loop) // continue scroll loop\n    : done(); // scrolling is done\n  }\n\n  // scroll finished helper\n\n  function done() {\n    // account for rAF time rounding inaccuracies\n    window.scrollTo(0, start + distance);\n\n    // if scrolling to an element, and accessibility is enabled\n    if (element && a11y) {\n      // add tabindex indicating programmatic focus\n      element.setAttribute('tabindex', '-1');\n\n      // focus the element\n      element.focus();\n    }\n\n    // if it exists, fire the callback\n    if (typeof callback === 'function') {\n      callback();\n    }\n\n    // reset time for next jump\n    timeStart = false;\n  }\n\n  // API\n\n  function jump(target) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    // resolve options, or use defaults\n    duration = options.duration || 1000;\n    offset = options.offset || 0;\n    callback = options.callback; // \"undefined\" is a suitable default, and won't be called\n    easing = options.easing || easeInOutQuad;\n    a11y = options.a11y || false;\n\n    // cache starting position\n    start = location();\n\n    // resolve target\n    switch (typeof target === 'undefined' ? 'undefined' : _typeof(target)) {\n      // scroll from current position\n      case 'number':\n        element = undefined; // no element to scroll to\n        a11y = false; // make sure accessibility is off\n        stop = start + target;\n        break;\n\n      // scroll to element (node)\n      // bounding rect is relative to the viewport\n      case 'object':\n        element = target;\n        stop = top(element);\n        break;\n\n      // scroll to element (selector)\n      // bounding rect is relative to the viewport\n      case 'string':\n        element = document.querySelector(target);\n        stop = top(element);\n        break;\n    }\n\n    // resolve scroll distance, accounting for offset\n    distance = stop - start + offset;\n\n    // resolve duration\n    switch (_typeof(options.duration)) {\n      // number in ms\n      case 'number':\n        duration = options.duration;\n        break;\n\n      // function passed the distance of the scroll\n      case 'function':\n        duration = options.duration(distance);\n        break;\n    }\n\n    // start the loop\n    window.requestAnimationFrame(loop);\n  }\n\n  // expose only the jump method\n  return jump;\n};\n\n// export singleton\n\nvar singleton = jumper();\n\nexport default singleton;\n","/* global d3 */\nimport jump from 'jump.js';\n\nlet $content;\n\nlet verbJoin;\nlet nounJoin;\nlet articlesJoin;\n\nlet $verb;\nlet $noun;\nlet $articles;\nlet $separators;\n\nlet $progressBar;\nlet backgroundBarWidthPx;\nlet barWidthPx;\nlet barUpdater;\n\nlet articleNumber;\nlet currentArticle = 0;\n\nlet $nounSearch;\nlet $verbSelect;\n\nlet formattedVerbs;\nlet fixedSearchHeight;\nlet separatorHeight;\n\nlet articleInterval;\n\nfunction updateProgressBar(el, elapsed) {\n    const $foregroundBar = d3\n        .select(el.parentNode)\n        .select('.tooltip')\n        .select('.tooltip__progress-bar-foreground');\n\n    $foregroundBar.style('width', d3.format('%')(elapsed / 5000));\n\n    //   backgroundBarWidthPx = +d3\n    //     .select(el.parentNode)\n    //     .select('.tooltip')\n    //     .select('.tooltip__progress-bar-background')\n    //     .style('width')\n    //     .replace('px', '');\n\n    //   let barPercentage;\n    //   barUpdater = setInterval(updateFunction, 50);\n\n    //   function updateFunction() {\n    //     barWidthPx = +$foregroundBar.style('width').replace('px', '');\n    //     barWidthPx += step;\n\n    //     if (barWidthPx === backgroundBarWidthPx) {\n    //       $foregroundBar.style('width', `${barWidthPx}px`);\n    //       clearInterval(barUpdater);\n    //     }\n    //     $foregroundBar.style('width', `${barWidthPx}px`);\n    //   }\n}\n\nfunction updateTooltip(d, el, $tooltip) {\n    // show tooltip, load data\n    $tooltip.classed('hidden', false);\n\n    $tooltip\n        .select('p.tooltip__meta')\n        .text(\n            `${d.articles[currentArticle].url.split('//')[1].split('/')[0]}  ${\n        d.articles[currentArticle].pub_date\n      }`\n        );\n\n    $tooltip\n        .select('p.tooltip__hed')\n        .text(`${d.articles[currentArticle].headline}`);\n\n    $tooltip.select('p.tooltip__other-verbs').html(() => {\n        const additionalArticles =\n            d.articles.length > 1 ?\n            `<span class='noun-selected'>${generateEmoji()} ${\n            d.noun\n          }</span> is also found in these verbs: <span class='additional-verbs'>${d.other_verbs.join(\n            ', '\n          )}</span>` :\n            ``;\n        return additionalArticles;\n    });\n\n    const x = el.offsetLeft;\n    const y = el.offsetTop;\n    const toolTipHeight = $tooltip.node().offsetHeight;\n\n    // console.log(d3.mouse(this))\n\n    $tooltip.style('left', `${x}px`).style('top', `-10px`);\n}\n\nfunction updateArticle(d, el, $tooltip) {\n    if (currentArticle >= articleNumber && articleInterval) {\n        clearInterval(articleInterval);\n        articleInterval = null;\n    } else {\n        const t = d3.timer(elapsed => {\n            updateProgressBar(el, elapsed);\n            if (elapsed > 5000) t.stop();\n        }, 10);\n        updateTooltip(d, el, $tooltip);\n        // updateProgressBar(el);\n        currentArticle += 1;\n        articleInterval = setTimeout(() => {\n            updateArticle(d, el, $tooltip);\n        }, 5000);\n    }\n}\n\nfunction handleMouseEnter(d) {\n    console.log(d);\n    currentArticle = 0;\n    const el = this;\n    const $sel = d3.select(el);\n    const $selVerb = d3.select(el.parentNode);\n    const $tooltip = $selVerb.select('.tooltip');\n\n    articleNumber = d.articles.length;\n\n    updateArticle(d, el, $tooltip);\n}\n\nfunction handleMouseLeave() {\n    currentArticle = 0;\n    articleNumber = 0;\n\n    clearInterval(barUpdater);\n    clearInterval(articleInterval);\n\n    d3.selectAll('.tooltip__progress-bar-foreground').style('width', '0px');\n\n    d3.selectAll('.tooltip').classed('hidden', true);\n\n    // $noun.classed('faded',false)\n}\n\nfunction resize() {\n    const height = window.innerHeight;\n    console.log(height);\n    d3.selectAll('#content').style('height', `${height}px`);\n}\n\nfunction setSentimentScroll() {\n    const parentDiv = d3.select('div.content').node();\n\n    const posHighFirstEl = d3.select('.verb-container-love').node();\n    const sepPositiveHigh = document.createElement('div');\n    sepPositiveHigh.className = 'separator separator__positive-high';\n    sepPositiveHigh.innerHTML = ' highly positive sentiments';\n\n    const posLowFirstEl = d3.select('.verb-container-favor').node();\n    const sepPositiveLow = document.createElement('div');\n    sepPositiveLow.className = 'separator separator__positive-low';\n    sepPositiveLow.innerHTML = ' positive sentiments';\n\n    const neutralFirstEl = d3.select('.verb-container-say').node();\n    const sepNeutral = document.createElement('div');\n    sepNeutral.className = 'separator separator__neutral';\n    sepNeutral.innerHTML = ' neutral sentiments';\n\n    const negLowFirstEl = d3.select('.verb-container-leave').node();\n    const sepNegativeLow = document.createElement('div');\n    sepNegativeLow.className = 'separator separator__negative-low';\n    sepNegativeLow.innerHTML = ' negative sentiments';\n\n    const negHighFirstEl = d3.select('.verb-container-hate').node();\n    const sepNegativeHigh = document.createElement('div');\n    sepNegativeHigh.className = 'separator separator__negative-high';\n    sepNegativeHigh.innerHTML = ' highly negative sentiments';\n\n    parentDiv.insertBefore(sepPositiveHigh, posHighFirstEl);\n    parentDiv.insertBefore(sepPositiveLow, posLowFirstEl);\n    parentDiv.insertBefore(sepNeutral, neutralFirstEl);\n    parentDiv.insertBefore(sepNegativeLow, negLowFirstEl);\n    parentDiv.insertBefore(sepNegativeHigh, negHighFirstEl);\n\n    // const verbEl = d3.select(this);\n    // const verbValue = verbEl.text();\n    // const scrollTarget = d3.select(`.verb-container-${verbValue}`).node()\n\n    d3.select('.button-positive-high').on('click', () => {\n        scrollTo(d3.select('.separator__positive-high').node());\n    });\n\n    d3.select('.button-positive-low').on('click', () => {\n        scrollTo(d3.select('.separator__positive-low').node());\n    });\n\n    d3.select('.button-negative-low').on('click', () => {\n        scrollTo(d3.select('.separator__negative-low').node());\n    });\n\n    d3.select('.button-negative-high').on('click', () => {\n        scrollTo(d3.select('.separator__negative-high').node());\n    });\n\n    d3.select('.button-neutral').on('click', () => {\n        scrollTo(d3.select('.separator__neutral').node());\n    });\n}\n\nfunction generateEmoji() {\n    const emojis = [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n    ];\n\n    return emojis[Math.floor(Math.random() * emojis.length)];\n}\n\nfunction handleMouseOver(el, noun) {\n    console.log(d3.mouse(el));\n\n    // .attr('')\n\n    // let coordinates= d3.mouse(el);\n\n    // d3.select('.tooltip')\n    // .classed('hidden',false)\n    // .style(\"left\", (d3.event.pageX) + \"px\")\n    // .style(\"top\", (d3.event.pageY - 28) + \"px\");\n}\n\nfunction handleInputChange() {\n    const $input = d3.select(this);\n    const val = this.value.toLowerCase();\n    handleMouseLeave();\n\n    if (val == '') {\n        $noun.style('font-size', '14px');\n        $verb.classed('hidden', false);\n        $separators.classed('hidden', false);\n        $noun.classed('faded', false);\n        handleMouseLeave();\n    } else {\n        $noun\n            .style('font-size', d => {\n                if (d.noun.includes(val)) {\n                    return '48px';\n                }\n                return '14px';\n            })\n            .classed('faded', d => {\n                if (d.noun.includes(val)) {\n                    return false;\n                }\n                return true;\n            });\n\n        $separators.classed('hidden', true);\n\n        $verb.classed('hidden', d => {\n            handleMouseLeave();\n            const nounMatch = d.nounList.filter(item => item.includes(val));\n            if (nounMatch.length >= 1) {\n                return false;\n            }\n            return true;\n        });\n    }\n\n    // const start = $input.attr('data-start');\n}\n\nfunction scrollTo(element) {\n    jump(element, {\n        duration: 1000,\n        offset: -fixedSearchHeight,\n    });\n}\n\nfunction handleDropDown() {\n    const verbEl = d3.select(this);\n    const verbValue = verbEl.text();\n    const scrollTarget = d3.select(`.verb-container-${verbValue}`).node();\n    scrollTo(scrollTarget);\n}\n\nfunction addArticles(data) {\n    $nounSearch = d3.select('.search-noun__input');\n    $nounSearch.on('keyup', handleInputChange);\n\n    console.log(data.length);\n    $content = d3.select('.content');\n\n    // verbs (top-level)\n    verbJoin = $content\n        .selectAll('div.verb-container')\n        .data(data)\n        .enter();\n\n    $verb = verbJoin\n        .append('div')\n        .attr('class', d => `verb-container verb-container-${d.verb}`);\n\n    $verb\n        .append('div')\n        .attr('class', 'verb-name')\n        .attr('id', d => d.verb)\n        .text(d => d.verb);\n\n    // tooltip:\n    const $tooltip = $verb.append('div').attr('class', 'tooltip hidden');\n\n    // tooltip: progress bar\n    $progressBar = $tooltip\n        .append('div')\n        .attr('class', 'tooltip__progress-bar-background');\n\n    $progressBar.append('div').attr('class', 'tooltip__progress-bar-foreground');\n\n    // tooltip: text sections\n    $tooltip.append('p').attr('class', 'tooltip__meta');\n\n    $tooltip.append('p').attr('class', 'tooltip__hed');\n\n    $tooltip.append('p').attr('class', 'tooltip__other-verbs');\n\n    // nouns (bottom-level)\n    nounJoin = $verb\n        .selectAll('span.noun')\n        .data(d => d.nouns)\n        .enter();\n\n    $noun = nounJoin\n        .append('div')\n        .attr('class', 'noun')\n        .text(function (d) {\n            return ` ${d.noun} ${generateEmoji()}  `;\n        })\n        .on('mouseenter', handleMouseEnter)\n        .on('mouseleave', handleMouseLeave)\n        .on('click', d => window.open(d.articles[0].url));\n\n    const verbDropDown = d3.select('.search-verb__input').node();\n\n    const verbDropDownChoices = new Choices(verbDropDown, {\n        choices: formattedVerbs.map(value => ({\n            value,\n            label: `${value.verb}`,\n        })),\n    });\n\n    d3.select(verbDropDown).on('change', handleDropDown);\n\n    setSentimentScroll();\n    $separators = d3.selectAll('.separator');\n\n    // Adjusting content to fit below fixed search bar\n    fixedSearchHeight = d3.select('.fixed-search-bar').node().offsetHeight;\n\n    d3.select('.content').style('padding-top', `${fixedSearchHeight}px`);\n\n    d3.select('.enter-arrow__container').on('click', () => {\n        d3.select('.intro').classed('hidden', true);\n        d3.select('.method').classed('hidden', true);\n        d3.select('.main-page').classed('hidden', false);\n        d3.selectAll('#content').style('height', '100%');\n    });\n\n    d3.selectAll('div.info').on('click', () => {\n        console.log('fire');\n        d3.select('.method').classed('hidden', false);\n        d3.select('.intro').classed('hidden', false);\n        d3.select('.intro-text').classed('hidden', true);\n        d3.select('.main-page').classed('hidden', true);\n    });\n\n    d3.select('.method__close').on('click', () => {\n        d3.select('.main-page').classed('hidden', false);\n        d3.select('.intro').classed('hidden', true);\n        d3.select('.intro-text').classed('hidden', true);\n        d3.select('.method').classed('hidden', true);\n    });\n}\n\nfunction cleanData(data) {\n    const verbsToKeep = data[0];\n    const verbsToKeepList = verbsToKeep.map(item => item.verb);\n    const allVerbs = data[1];\n    const filteredVerbs = allVerbs.filter(verb =>\n        verbsToKeepList.includes(verb.verb)\n    );\n\n    formattedVerbs = filteredVerbs.map(verb => ({\n        ...verb,\n        nounList: verb.nouns.map(item => item.noun),\n        nouns: verb.nouns.map(noun => ({\n            ...noun,\n            nounLevelVerb: verb.verb,\n        })),\n    }));\n\n    formattedVerbs.forEach(function (verb) {\n        const result = data[0].filter(function (item) {\n            return item.verb === verb.verb;\n        });\n        verb.sentiment = result[0] !== undefined ? +result[0].sentiment_5 : null;\n    });\n\n    formattedVerbs = formattedVerbs.sort(\n        (a, b) => parseFloat(b.sentiment) - parseFloat(a.sentiment)\n    );\n    console.log(formattedVerbs);\n    return formattedVerbs;\n}\n\nfunction init() {\n    resize();\n\n    Promise.all([\n            d3.csv('assets/data/verbs_to_include.csv'),\n            d3.json('assets/data/articles_json_v2_small.json'),\n        ])\n        .then(data => cleanData(data))\n        .then(cleanedData => addArticles(cleanedData));\n}\n\nexport default {\n    init,\n    resize,\n};","const fallbackData = [\n  {\n    image: '2018_02_stand-up',\n    url: '2018/02/stand-up',\n    hed: 'The Structure of Stand-Up Comedy',\n  },\n  {\n    image: '2018_04_birthday-paradox',\n    url: '2018/04/birthday-paradox',\n    hed: 'The Birthday Paradox Experiment',\n  },\n  {\n    image: '2018_11_boy-bands',\n    url: '2018/11/boy-bands',\n    hed: 'Internet Boy Band Database',\n  },\n  {\n    image: '2018_08_pockets',\n    url: '2018/08/pockets',\n    hed: 'Womens Pockets are Inferior',\n  },\n];\n\nlet storyData = null;\n\nfunction loadJS(src, cb) {\n  const ref = document.getElementsByTagName('script')[0];\n  const script = document.createElement('script');\n  script.src = src;\n  script.async = true;\n  ref.parentNode.insertBefore(script, ref);\n\n  if (cb && typeof cb === 'function') {\n    script.onload = cb;\n  }\n\n  return script;\n}\n\nfunction loadStories(cb) {\n  const request = new XMLHttpRequest();\n  const v = Date.now();\n  const url = `https://pudding.cool/assets/data/stories.json?v=${v}`;\n  request.open('GET', url, true);\n\n  request.onload = () => {\n    if (request.status >= 200 && request.status < 400) {\n      const data = JSON.parse(request.responseText);\n      cb(data);\n    } else cb(fallbackData);\n  };\n\n  request.onerror = () => cb(fallbackData);\n\n  request.send();\n}\n\nfunction createLink(d) {\n  return `\n\t<a class='footer-recirc__article' href='https://pudding.cool/${\n    d.url\n  }' target='_blank'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/${\n      d.image\n    }.jpg' alt='${d.hed}'>\n\t\t<p class='article__headline'>${d.hed}</p>\n\t</a>\n\t`;\n}\n\nfunction recircHTML() {\n  const url = window.location.href;\n  const html = storyData\n    .filter(d => !url.includes(d.url))\n    .slice(0, 4)\n    .map(createLink)\n    .join('');\n\n  d3.select('.pudding-footer .footer-recirc__articles').html(html);\n}\n\nfunction setupSocialJS() {\n  // facebook\n  (function(d, s, id) {\n    let js;\n\n    const fjs = d.getElementsByTagName(s)[0];\n    if (d.getElementById(id)) return;\n    js = d.createElement(s);\n    js.id = id;\n    js.src = '//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7';\n    fjs.parentNode.insertBefore(js, fjs);\n  })(document, 'script', 'facebook-jssdk');\n\n  loadJS('https://platform.twitter.com/widgets.js');\n}\n\nfunction init() {\n  loadStories(data => {\n    storyData = data;\n\n    recircHTML();\n    setupSocialJS();\n  });\n}\n\nexport default { init };\n","/* global d3 */\nimport debounce from 'lodash.debounce';\nimport isMobile from './utils/is-mobile';\nimport graphic from './graphic';\nimport footer from './footer';\n\nconst $body = d3.select('body');\nlet previousWidth = 0;\n\nfunction resize() {\n  // only do resize on width changes, not height\n  // (remove the conditional if you want to trigger on height change)\n  const width = $body.node().offsetWidth;\n  if (previousWidth !== width) {\n    previousWidth = width;\n    graphic.resize();\n  }\n}\n\nfunction setupStickyHeader() {\n  const $header = $body.select('header');\n  if ($header.classed('is-sticky')) {\n    const $menu = $body.select('.header__menu');\n    const $toggle = $body.select('.header__toggle');\n    $toggle.on('click', () => {\n      const visible = $menu.classed('is-visible');\n      $menu.classed('is-visible', !visible);\n      $toggle.classed('is-visible', !visible);\n    });\n  }\n}\n\nfunction init() {\n  // add mobile class to body tag\n  $body.classed('is-mobile', isMobile.any());\n  // setup resize event\n  window.addEventListener('resize', debounce(resize, 150));\n  // setup sticky header menu\n//   setupStickyHeader();\n  // kick off graphic code\n  graphic.init();\n  // load footer stories\n  footer.init();\n}\n\ninit();\n"]}